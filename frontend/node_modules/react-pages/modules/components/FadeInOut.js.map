{"version":3,"sources":["../../source/components/FadeInOut.js"],"names":["React","PropTypes","classNames","FadeInOut","show","props","fadeOutDuration","clearTimeout","showTimer","_isMounted","setState","fadeIn","fadeOut","hideTimer","setTimeout","prevProps","hide","fadeInClassName","hiddenClassName","children","state","cloneElement","className","Component","bool","isRequired","string","number","node"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nexport default class FadeInOut extends React.Component {\r\n\tstatic propTypes = {\r\n\t\tshow: PropTypes.bool.isRequired,\r\n\t\thiddenClassName: PropTypes.string,\r\n\t\tfadeOutDuration: PropTypes.number.isRequired,\r\n\t\tfadeInClassName: PropTypes.string,\r\n\t\tchildren: PropTypes.node.isRequired\r\n\t}\r\n\r\n\tstatic defaultProps = {\r\n\t\tshow: false\r\n\t}\r\n\r\n\tstate = {\r\n\t\tshow: this.props.show\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps)\r\n\t{\r\n\t\tif (!prevProps.show && this.props.show) {\r\n\t\t\tthis.show()\r\n\t\t} else if (prevProps.show && !this.props.show) {\r\n\t\t\tthis.hide()\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount()\r\n\t{\r\n\t\tthis._isMounted = true\r\n\t}\r\n\r\n\tcomponentWillUnmount()\r\n\t{\r\n\t\tthis._isMounted = false\r\n\r\n\t\tclearTimeout(this.showTimer)\r\n\t\tclearTimeout(this.hideTimer)\r\n\t}\r\n\r\n\tshow()\r\n\t{\r\n\t\tclearTimeout(this.showTimer)\r\n\t\tclearTimeout(this.hideTimer)\r\n\r\n\t\tthis.setState\r\n\t\t({\r\n\t\t\tshow : true,\r\n\t\t\tfadeIn : false,\r\n\t\t\tfadeOut : false\r\n\t\t})\r\n\r\n\t\tthis.showTimer = setTimeout(() =>\r\n\t\t{\r\n\t\t\tif (this._isMounted) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tfadeIn: true\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t// Adding a non-null delay in order to\r\n\t\t// prevent web browser from optimizing\r\n\t\t// adding CSS classes and doing it simultaneously\r\n\t\t// rather than sequentially (required for CSS transition).\r\n\t\t10)\r\n\t}\r\n\r\n\thide = () =>\r\n\t{\r\n\t\tconst { fadeOutDuration } = this.props\r\n\r\n\t\tclearTimeout(this.showTimer)\r\n\r\n\t\tif (!this._isMounted) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.setState\r\n\t\t({\r\n\t\t\tshow : false,\r\n\t\t\tfadeIn : false,\r\n\t\t\tfadeOut : true\r\n\t\t})\r\n\r\n\t\t// Gives some time to CSS opacity transition to finish.\r\n\t\tthis.hideTimer = setTimeout(() =>\r\n\t\t{\r\n\t\t\tif (this._isMounted) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tfadeOut : false\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tfadeOutDuration)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tfadeInClassName,\r\n\t\t\thiddenClassName,\r\n\t\t\tchildren\r\n\t\t} = this.props\r\n\r\n\t\tconst {\r\n\t\t\tshow,\r\n\t\t\tfadeIn,\r\n\t\t\tfadeOut\r\n\t\t} = this.state\r\n\r\n\t\tif (show || fadeOut) {\r\n\t\t\tif (fadeInClassName) {\r\n\t\t\t\treturn React.cloneElement(children, {\r\n\t\t\t\t\tclassName: classNames(children.props.className, {\r\n\t\t\t\t\t\t[fadeInClassName]: fadeIn\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\treturn children\r\n\t\t}\r\n\r\n\t\tif (hiddenClassName) {\r\n\t\t\treturn React.cloneElement(children, {\r\n\t\t\t\tclassName: classNames(children.props.className, hiddenClassName)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn null\r\n\t}\r\n}"],"file":"FadeInOut.js"}