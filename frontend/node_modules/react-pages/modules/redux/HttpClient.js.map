{"version":3,"sources":["../../source/redux/HttpClient.js"],"names":["HttpClient","createHttpClient","settings","getStore","options","onBeforeSend","catchToRetry","getAuthToken","http","onRequest","request","parameters","getState","error","retryCount","helpers","authentication","accessToken","getCookie","transformUrl","parseDates","authTokenHeader","header"],"mappings":";;;;;;AAAA,OAAOA,UAAP,MAAuB,eAAvB;AAEA,eAAe,SAASC,gBAAT,CAA0BC,QAA1B,EAAoCC,QAApC,EAA4D;AAAA,MAAdC,OAAc,uEAAJ,EAAI;AAC1E,MAAIC,YAAJ;AACA,MAAIC,YAAJ;AACA,MAAIC,YAAJ,CAH0E,CAK1E;;AACA,MAAIL,QAAQ,CAACM,IAAT,CAAcC,SAAlB,EAA6B;AAC5BJ,IAAAA,YAAY,GAAG,sBAACK,OAAD,EAAUC,UAAV,EAAyB;AACvCT,MAAAA,QAAQ,CAACM,IAAT,CAAcC,SAAd,CAAwBC,OAAxB,oBACIC,UADJ;AAECC,QAAAA,QAAQ,EAAET,QAAQ,GAAGS;AAFtB;AAIA,KALD;AAMA,GAbyE,CAe1E;;;AACA,MAAIV,QAAQ,CAACM,IAAT,SAAJ,EAAyB;AACxBF,IAAAA,YAAY,GAAG,sBAACO,KAAD,EAAQC,UAAR,EAAoBC,OAApB,EAAgC;AAC9C,aAAOb,QAAQ,CAACM,IAAT,UAAoBK,KAApB,EAA2BC,UAA3B,EAAuCC,OAAvC,CAAP,CAD8C,CAE9C;AACA;AACA;AACA;AACA,KAND;AAOA,GAxByE,CA0B1E;;;AACA,MAAIb,QAAQ,CAACc,cAAT,CAAwBC,WAA5B,EAAyC;AACxCV,IAAAA,YAAY,GAAG,sBAACW,SAAD,EAAYH,OAAZ,EAAwB;AACtC,aAAOb,QAAQ,CAACc,cAAT,CAAwBC,WAAxB,mBACHF,OADG;AAENG,QAAAA,SAAS,EAATA,SAFM;AAGNN,QAAAA,QAAQ,EAAET,QAAQ,GAAGS;AAHf,SAAP;AAKA,KAND;AAOA;;AAED,SAAO,IAAIZ,UAAJ;AACNK,IAAAA,YAAY,EAAZA,YADM;AAENC,IAAAA,YAAY,EAAZA,YAFM;AAGNC,IAAAA,YAAY,EAAZA,YAHM;AAINY,IAAAA,YAAY,EAAEjB,QAAQ,CAACM,IAAT,CAAcW,YAJtB;AAKNC,IAAAA,UAAU,EAAElB,QAAQ,CAACkB,UALf;AAMNC,IAAAA,eAAe,EAAEnB,QAAQ,CAACc,cAAT,CAAwBM;AANnC,KAOHlB,OAPG,EAAP;AASA","sourcesContent":["import HttpClient from '../HttpClient'\r\n\r\nexport default function createHttpClient(settings, getStore, options = {}) {\r\n\tlet onBeforeSend\r\n\tlet catchToRetry\r\n\tlet getAuthToken\r\n\r\n\t// Add `getState()` to `http.onRequest()` parameters.\r\n\tif (settings.http.onRequest) {\r\n\t\tonBeforeSend = (request, parameters) => {\r\n\t\t\tsettings.http.onRequest(request, {\r\n\t\t\t\t...parameters,\r\n\t\t\t\tgetState: getStore().getState\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// Add `store` and `http` helpers to `http.catch`\r\n\tif (settings.http.catch) {\r\n\t\tcatchToRetry = (error, retryCount, helpers) => {\r\n\t\t\treturn settings.http.catch(error, retryCount, helpers)\r\n\t\t\t// {\r\n\t\t\t// \t...helpers,\r\n\t\t\t// \tstore: getStore()\r\n\t\t\t// })\r\n\t\t}\r\n\t}\r\n\r\n\t// Add `store` helper to `authentication.accessToken`\r\n\tif (settings.authentication.accessToken) {\r\n\t\tgetAuthToken = (getCookie, helpers) => {\r\n\t\t\treturn settings.authentication.accessToken({\r\n\t\t\t\t...helpers,\r\n\t\t\t\tgetCookie,\r\n\t\t\t\tgetState: getStore().getState\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\treturn new HttpClient({\r\n\t\tonBeforeSend,\r\n\t\tcatchToRetry,\r\n\t\tgetAuthToken,\r\n\t\ttransformUrl: settings.http.transformUrl,\r\n\t\tparseDates: settings.parseDates,\r\n\t\tauthTokenHeader: settings.authentication.header,\r\n\t\t...options\r\n\t})\r\n}"],"file":"HttpClient.js"}