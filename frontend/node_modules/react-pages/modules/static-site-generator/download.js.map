{"version":3,"sources":["../../source/static-site-generator/download.js"],"names":["http","https","download","url","Promise","resolve","reject","secure","indexOf","protocol","request","response","setEncoding","response_body","on","chunk","status","statusCode","content","end"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,eAAe,SAASC,QAAT,CAAkBC,GAAlB,EACf;AACC,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EACnB;AACC,QAAMC,MAAM,GAAG,OAAOJ,GAAP,KAAe,QAAf,GAA0BA,GAAG,CAACK,OAAJ,CAAY,UAAZ,MAA4B,CAAtD,GAA0DL,GAAG,CAACM,QAAJ,KAAiB,QAA1F;AAEA,QAAMC,OAAO,GAAG,CAACH,MAAM,GAAGN,KAAH,GAAWD,IAAlB,EAAwBU,OAAxB,CAAgCP,GAAhC,EAAqC,UAACQ,QAAD,EACrD;AACCA,MAAAA,QAAQ,CAACC,WAAT,CAAqB,MAArB;AAEA,UAAIC,aAAa,GAAG,EAApB;AACAF,MAAAA,QAAQ,CAACG,EAAT,CAAY,MAAZ,EAAoB,UAAAC,KAAK;AAAA,eAAIF,aAAa,IAAIE,KAArB;AAAA,OAAzB;AACAJ,MAAAA,QAAQ,CAACG,EAAT,CAAY,KAAZ,EAAmB;AAAA,eAAMT,OAAO,CAAC;AAAEW,UAAAA,MAAM,EAAEL,QAAQ,CAACM,UAAnB;AAA+BC,UAAAA,OAAO,EAAEL;AAAxC,SAAD,CAAb;AAAA,OAAnB;AACA,KAPe,CAAhB;AASAH,IAAAA,OAAO,CAACI,EAAR,CAAW,OAAX,EAAoBR,MAApB;AACAI,IAAAA,OAAO,CAACS,GAAR;AACA,GAfM,CAAP;AAgBA","sourcesContent":["import http from 'http'\r\nimport https from 'https'\r\n\r\n// Downloads a URL resolving to its text contents\r\nexport default function download(url)\r\n{\r\n\treturn new Promise((resolve, reject) =>\r\n\t{\r\n\t\tconst secure = typeof url === 'string' ? url.indexOf('https://') === 0 : url.protocol === 'https:'\r\n\r\n\t\tconst request = (secure ? https : http).request(url, (response) =>\r\n\t\t{\r\n\t\t\tresponse.setEncoding('utf8')\r\n\r\n\t\t\tlet response_body = ''\r\n\t\t\tresponse.on('data', chunk => response_body += chunk)\r\n\t\t\tresponse.on('end', () => resolve({ status: response.statusCode, content: response_body }))\r\n\t\t})\r\n\r\n\t\trequest.on('error', reject)\r\n\t\trequest.end()\r\n\t})\r\n}"],"file":"download.js"}