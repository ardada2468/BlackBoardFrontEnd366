{"version":3,"sources":["../../../source/router/client/createRouterElement.js"],"names":["React","createConnectedRouter","resolver","ScrollManager","render","createRouterElement","renderArgs","dispatch","getState","ConnectedRouter","elements","window","reactPagesRemountOnNavigate","length","cloneElement","key","location","pathname"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,qBAAP,MAAkC,6BAAlC;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,SAASC,aAAT,QAA8B,cAA9B;AAEA,OAAOC,OAAP,MAAmB,WAAnB;AAEA,eAAe,SAASC,mBAAT,CAA6BC,UAA7B,QAAiE;AAAA,MAAtBC,QAAsB,QAAtBA,QAAsB;AAAA,MAAZC,QAAY,QAAZA,QAAY;AAC/E,MAAMC,eAAe,GAAGR,qBAAqB,CAAC;AAC7CG,IAAAA,MAAM,EAAE,gBAACE,UAAD,EAAgB;AACvB;AACA;AACA,UAAMI,QAAQ,GAAGJ,UAAU,CAACI,QAA5B;;AACA,UAAIA,QAAQ,IAAIC,MAAM,CAACC,2BAAP,KAAuC,KAAvD,EAA8D;AAC7DF,QAAAA,QAAQ,CAACA,QAAQ,CAACG,MAAT,GAAkB,CAAnB,CAAR,GAAgCb,KAAK,CAACc,YAAN,CAAmBJ,QAAQ,CAACA,QAAQ,CAACG,MAAT,GAAkB,CAAnB,CAA3B,EAAkD;AAAEE,UAAAA,GAAG,EAAET,UAAU,CAACU,QAAX,CAAoBC;AAA3B,SAAlD,CAAhC;AACA;;AACD,aACC,oBAAC,aAAD;AAAe,QAAA,UAAU,EAAEX;AAA3B,SACEF,OAAM,CAACE,UAAD,CADR,CADD;AAKA;AAb4C,GAAD,CAA7C;AAeA,SACC,oBAAC,eAAD;AACC,IAAA,YAAY,EAAE;AACbC,MAAAA,QAAQ,EAARA,QADa;AAEbC,MAAAA,QAAQ,EAARA;AAFa,KADf;AAKC,IAAA,QAAQ,EAAEN,QALX;AAMC,IAAA,iBAAiB,EAAEI;AANpB,IADD;AASA","sourcesContent":["import React from 'react'\r\n\r\nimport createConnectedRouter from 'found/createConnectedRouter'\r\nimport resolver from 'found/resolver'\r\nimport { ScrollManager } from 'found-scroll'\r\n\r\nimport render from '../render'\r\n\r\nexport default function createRouterElement(renderArgs, { dispatch, getState }) {\r\n\tconst ConnectedRouter = createConnectedRouter({\r\n\t\trender: (renderArgs) => {\r\n\t\t\t// Force re-mount the last route component on location path change.\r\n\t\t\t// https://github.com/4Catalyzer/found/issues/199#issuecomment-415616836\r\n\t\t\tconst elements = renderArgs.elements\r\n\t\t\tif (elements && window.reactPagesRemountOnNavigate !== false) {\r\n\t\t\t\telements[elements.length - 1] = React.cloneElement(elements[elements.length - 1], { key: renderArgs.location.pathname })\r\n\t\t\t}\r\n\t\t\treturn (\r\n\t\t\t\t<ScrollManager renderArgs={renderArgs}>\r\n\t\t\t\t\t{render(renderArgs)}\r\n\t\t\t\t</ScrollManager>\r\n\t\t\t)\r\n\t\t}\r\n\t})\r\n\treturn (\r\n\t\t<ConnectedRouter\r\n\t\t\tmatchContext={{\r\n\t\t\t\tdispatch,\r\n\t\t\t\tgetState\r\n\t\t\t}}\r\n\t\t\tresolver={resolver}\r\n\t\t\tinitialRenderArgs={renderArgs}/>\r\n\t)\r\n}"],"file":"createRouterElement.js"}