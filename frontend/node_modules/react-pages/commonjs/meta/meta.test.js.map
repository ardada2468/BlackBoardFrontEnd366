{"version":3,"sources":["../../source/meta/meta.test.js"],"names":["describe","it","document","TestDocument","title","description","site_name","locale","locales","viewport","keywords","author","getMetaTags","should","deep","equal","getTitle","siteName","expect","to","be","undefined","charset","subkey1","subkey2","subkey3","key","_","subkey4","subkey5","subkey6"],"mappings":"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","sourcesContent":["import\r\n{\r\n\tupdateMeta,\r\n\tgenerateMetaTagsMarkup,\r\n\texpandObjects,\r\n\texpandArrays,\r\n\tconvertMeta,\r\n\tconvertOpenGraphLocaleToLanguageTag\r\n}\r\nfrom './meta'\r\n\r\nimport TestDocument from './TestDocument'\r\n\r\ndescribe(`meta`, () =>\r\n{\r\n\tit(`should update meta`, () =>\r\n\t{\r\n\t\tconst document = new TestDocument\r\n\t\t([\r\n\t\t\t['charset', 'win1250'],\r\n\t\t\t['og:locale', 'de'],\r\n\t\t\t['og:locale', 'fr']\r\n\t\t])\r\n\r\n\t\tupdateMeta\r\n\t\t({\r\n\t\t\ttitle        : 'Test',\r\n\t\t\tdescription  : 'Testing metadata',\r\n\t\t\tsite_name    : 'Testing',\r\n\t\t\tlocale       : 'ru',\r\n\t\t\tlocales      : ['en', 'fr'],\r\n\t\t\tviewport     : 'width=device-width, initial-scale=1',\r\n\t\t\tkeywords     : 'react, redux, webpack',\r\n\t\t\tauthor       : '@catamphetamine'\r\n\t\t},\r\n\t\tdocument)\r\n\r\n\t\tdocument.getMetaTags().should.deep.equal\r\n\t\t([\r\n\t\t\t['og:locale', 'ru'],\r\n\t\t\t['og:title', 'Test'],\r\n\t\t\t['description', 'Testing metadata'],\r\n\t\t\t['og:description', 'Testing metadata'],\r\n\t\t\t['og:site_name', 'Testing'],\r\n\t\t\t['og:locale:alternate', 'en'],\r\n\t\t\t['og:locale:alternate', 'fr'],\r\n\t\t\t['viewport', 'width=device-width, initial-scale=1'],\r\n\t\t\t['keywords', 'react, redux, webpack'],\r\n\t\t\t['author', '@catamphetamine']\r\n\t\t])\r\n\r\n\t\tdocument.getTitle().should.equal('Test')\r\n\t})\r\n\r\n\tit(`should transform \"siteName\" to \"site_name\"`, () =>\r\n\t{\r\n\t\tconst document = new TestDocument\r\n\t\t([\r\n\t\t\t['charset', 'utf-8'],\r\n\t\t\t['og:locale', 'en'],\r\n\t\t])\r\n\r\n\t\tupdateMeta({\r\n\t\t\tsiteName: 'Testing'\r\n\t\t}, document)\r\n\r\n\t\tdocument.getMetaTags().should.deep.equal\r\n\t\t([\r\n\t\t\t['og:site_name', 'Testing']\r\n\t\t])\r\n\t})\r\n\r\n\tit(`should update meta without title and charset`, () =>\r\n\t{\r\n\t\tconst document = new TestDocument()\r\n\t\tupdateMeta({}, document)\r\n\t\tdocument.getMetaTags().should.deep.equal([])\r\n\t\texpect(document.getTitle()).to.be.undefined\r\n\t})\r\n\r\n\tit(`should update charset`, () =>\r\n\t{\r\n\t\tconst document = new TestDocument([['charset', 'win1250']])\r\n\t\tupdateMeta({ charset : 'utf-8' }, document)\r\n\t\tdocument.getMetaTags().should.deep.equal([['charset', 'utf-8']])\r\n\t})\r\n\r\n\tit(`should skip updating same charset`, () =>\r\n\t{\r\n\t\tconst document = new TestDocument([['charset', 'utf-8']])\r\n\t\tupdateMeta({ charset : 'utf-8' }, document)\r\n\t\tdocument.getMetaTags().should.deep.equal([['charset', 'utf-8']])\r\n\t})\r\n\r\n\tit(`should generate meta tags markup`, () =>\r\n\t{\r\n\t\tgenerateMetaTagsMarkup\r\n\t\t({\r\n\t\t\tcharset      : 'utf-8',\r\n\t\t\ttitle        : 'Test',\r\n\t\t\tdescription  : 'Testing metadata',\r\n\t\t\tlocale       : 'ru',\r\n\t\t\tlocales      : ['en', 'fr'],\r\n\t\t\tviewport     : 'width=device-width, initial-scale=1',\r\n\t\t\tkeywords     : 'react, redux, webpack',\r\n\t\t\tauthor       : '@catamphetamine'\r\n\t\t})\r\n\t\t.should.deep.equal\r\n\t\t([\r\n\t\t\t\"<meta charset=\\\"utf-8\\\"/>\",\r\n\t\t\t\"<title>Test</title>\",\r\n\t\t\t\"<meta property=\\\"og:title\\\" content=\\\"Test\\\"/>\",\r\n\t\t\t\"<meta name=\\\"description\\\" content=\\\"Testing metadata\\\"/>\",\r\n\t\t\t\"<meta property=\\\"og:description\\\" content=\\\"Testing metadata\\\"/>\",\r\n\t\t\t\"<meta property=\\\"og:locale\\\" content=\\\"ru\\\"/>\",\r\n\t\t\t\"<meta property=\\\"og:locale:alternate\\\" content=\\\"en\\\"/>\",\r\n\t\t\t\"<meta property=\\\"og:locale:alternate\\\" content=\\\"fr\\\"/>\",\r\n\t\t\t\"<meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1\\\"/>\",\r\n\t\t\t\"<meta name=\\\"keywords\\\" content=\\\"react, redux, webpack\\\"/>\",\r\n\t\t\t\"<meta name=\\\"author\\\" content=\\\"@catamphetamine\\\"/>\"\r\n\t\t])\r\n\t})\r\n\r\n\tit(`should generate meta tags markup with default title and charset`, () =>\r\n\t{\r\n\t\tgenerateMetaTagsMarkup({}).should.deep.equal\r\n\t\t([\r\n\t\t\t\"<meta charset=\\\"utf-8\\\"/>\",\r\n\t\t\t\"<title></title>\"\r\n\t\t])\r\n\t})\r\n\r\n\tit('should expand objects', () => {\r\n\t\texpandObjects(['key', 'value']).should.deep.equal([['key', 'value']])\r\n\r\n\t\texpandObjects(['key', {\r\n\t\t\tsubkey1: 'subvalue1',\r\n\t\t\tsubkey2: 'subvalue2',\r\n\t\t\tsubkey3: {\r\n\t\t\t\t'subsubkey1': 'subsubvalue1',\r\n\t\t\t\t'subsubkey2': 'subsubvalue2'\r\n\t\t\t}\r\n\t\t}]).should.deep.equal([\r\n\t\t\t['key:subkey1', 'subvalue1'],\r\n\t\t\t['key:subkey2', 'subvalue2'],\r\n\t\t\t['key:subkey3:subsubkey1', 'subsubvalue1'],\r\n\t\t\t['key:subkey3:subsubkey2', 'subsubvalue2']\r\n\t\t])\r\n\t})\r\n\r\n\tit('should expand arrays', () => {\r\n\t\texpandArrays(['key', 'value']).should.deep.equal([['key', 'value']])\r\n\r\n\t\texpandArrays(['key', [\r\n\t\t\t'subvalue1',\r\n\t\t\t'subvalue2'\r\n\t\t]]).should.deep.equal([\r\n\t\t\t['key', 'subvalue1'],\r\n\t\t\t['key', 'subvalue2']\r\n\t\t])\r\n\r\n\t\texpandArrays(['key', [{\r\n\t\t\t'subkey1': 'subvalue1',\r\n\t\t\t'subkey2': 'subvalue2'\r\n\t\t}, {\r\n\t\t\t'subkey3': 'subvalue3',\r\n\t\t\t'subkey4': 'subvalue4'\r\n\t\t}]]).should.deep.equal([\r\n\t\t\t['key', {\r\n\t\t\t\t'subkey1': 'subvalue1',\r\n\t\t\t\t'subkey2': 'subvalue2'\r\n\t\t\t}],\r\n\t\t\t['key', {\r\n\t\t\t\t'subkey3': 'subvalue3',\r\n\t\t\t\t'subkey4': 'subvalue4'\r\n\t\t\t}]\r\n\t\t])\r\n\t})\r\n\r\n\tit('should convert meta', () => {\r\n\t\tconvertMeta({\r\n\t\t\tkey: [{\r\n\t\t\t\t_: 'rootvalue1',\r\n\t\t\t\tsubkey1: 'subvalue1',\r\n\t\t\t\tsubkey2: 'subvalue2',\r\n\t\t\t\tsubkey3: {\r\n\t\t\t\t\t'subsubkey1': 'subsubvalue1',\r\n\t\t\t\t\t'subsubkey2': 'subsubvalue2'\r\n\t\t\t\t}\r\n\t\t\t}, {\r\n\t\t\t\t_: 'rootvalue2',\r\n\t\t\t\tsubkey4: 'subvalue3',\r\n\t\t\t\tsubkey5: 'subvalue4',\r\n\t\t\t\tsubkey6: {\r\n\t\t\t\t\t'subsubkey3': 'subsubvalue3',\r\n\t\t\t\t\t'subsubkey4': 'subsubvalue4'\r\n\t\t\t\t}\r\n\t\t\t}]\r\n\t\t}).should.deep.equal([\r\n\t\t\t['key', 'rootvalue1'],\r\n\t\t\t['key:subkey1', 'subvalue1'],\r\n\t\t\t['key:subkey2', 'subvalue2'],\r\n\t\t\t['key:subkey3:subsubkey1', 'subsubvalue1'],\r\n\t\t\t['key:subkey3:subsubkey2', 'subsubvalue2'],\r\n\t\t\t['key', 'rootvalue2'],\r\n\t\t\t['key:subkey4', 'subvalue3'],\r\n\t\t\t['key:subkey5', 'subvalue4'],\r\n\t\t\t['key:subkey6:subsubkey3', 'subsubvalue3'],\r\n\t\t\t['key:subkey6:subsubkey4', 'subsubvalue4']\r\n\t\t])\r\n\t})\r\n\r\n\tit('should convert locales', () => {\r\n\t\tconvertOpenGraphLocaleToLanguageTag('ru_RU').should.equal('ru-RU')\r\n\t\tconvertOpenGraphLocaleToLanguageTag('ru').should.equal('ru')\r\n\t})\r\n})"],"file":"meta.test.js"}